<Window x:Class="LibraryWpfApp.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="clr-namespace:LibraryWpfApp.ViewModels"
        xmlns:conv="clr-namespace:LibraryWpfApp.Converters"
        Title="Library Book Management System" Height="450" Width="800"
        WindowStartupLocation="CenterScreen">

    <Window.Resources>
        <conv:BoolToVisibilityConverter x:Key="BoolToVisibility"/>
    </Window.Resources>

    <Window.DataContext>
        <vm:MainViewModel />
    </Window.DataContext>

    <DockPanel>
        <Menu DockPanel.Dock="Top">
            <MenuItem Header="File">
                <MenuItem Header="Logout" Command="{Binding LogoutCommand}"/>
                <MenuItem Header="Exit" Click="Exit_Click"/>
            </MenuItem>

            <!-- Menu Administration: Chỉ hiển thị nếu người dùng là Admin -->
            <MenuItem Header="Administration" Visibility="{Binding IsAdmin, Converter={StaticResource BoolToVisibility}}">
                <MenuItem Header="User Management" Command="{Binding OpenUserManagementCommand}"/>
                <MenuItem Header="Category Management" Command="{Binding OpenCategoryManagementCommand}"/>
            </MenuItem>

            <!-- Menu Member Operations: Hiển thị cho tất cả tài khoản đăng nhập -->
            <MenuItem Header="Member Operations">
                <MenuItem Header="View Books" Command="{Binding OpenMemberBookListCommand}"/>
                <MenuItem Header="My Borrowing History" Command="{Binding OpenMyBorrowingHistoryCommand}"/>
            </MenuItem>

            <!-- Menu Reports: Hiển thị cho tất cả -->
            <MenuItem Header="Reports">
                <MenuItem Header="View Reports" Command="{Binding OpenReportsCommand}"/>
            </MenuItem>

            <!-- My Account: Hiển thị cho tất cả -->
            <MenuItem Header="My Account">
                <MenuItem Header="My Profile" Command="{Binding OpenProfileCommand}"/>
            </MenuItem>
        </Menu>

        <Grid>
            <TextBlock Text="{Binding WelcomeMessage}"
                       FontSize="28" FontWeight="Bold" HorizontalAlignment="Center" VerticalAlignment="Center"/>
        </Grid>
    </DockPanel>
</Window>
